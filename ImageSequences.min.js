function ImageSequence()
{this.firstFrame;this.totalFrames;this.frameRate=25;this.loop;this.containerId;this.containerWidth;this.containerHeight;this.cssMap;this.bgImage;this.horizontal;this.dir;this.fileNamePrefix;this.fileNameExtension;this.totalDigits;var firstFrame;var currentFrame;var totalFrames;var loop;var frameRate;var containerElement;var wrapper;var containerHeight;var containerWidth;var cssMap;var bgImage;var horizontal;var sequenceInterval;var interval;this.init=function()
{interval=1000/this.frameRate;firstFrame=this.firstFrame;currentFrame=firstFrame;totalFrames=this.totalFrames-1;loop=this.loop;containerElement=document.getElementById(this.containerId);containerHeight=this.containerHeight;containerWidth=this.containerWidth;cssMap=this.cssMap;bgImage=this.bgImage;horizontal=this.horizontal;this.styleContainer();this.buildWrapper();if(cssMap&&bgImage){this.implimentCssBackground();}else{this.insertImages();}
this.start();}
this.buildWrapper=function()
{wrapper=document.createElement('div');wrapper.setAttribute('class','sequence-wrapper');if(cssMap&horizontal){wrapper.style.width=(this.containerWidth*this.totalFrames)+'px';wrapper.style.height=this.containerHeight+'px';}else{wrapper.style.width=this.containerWidth+'px';wrapper.style.height=(this.containerHeight*this.totalFrames)+'px';}
containerElement.appendChild(wrapper);}
this.implimentCssBackground=function()
{wrapper.style.backgroundImage="url("+bgImage+")";wrapper.style.backgroundPosition="top left";console.log(wrapper.style.backgroundImage);}
this.styleContainer=function()
{containerElement.style.overflow='hidden';containerElement.style.width=this.containerWidth+'px';containerElement.style.height=this.containerHeight+'px';}
this.insertImages=function()
{var myCurrentFrame=Number(currentFrame);for(var i=this.firstFrame;i<this.totalFrames;i++){var fileName=this.buildFileName(myCurrentFrame);var image=document.createElement('img');image.setAttribute('src',fileName);wrapper.appendChild(image)
myCurrentFrame++;}}
this.leadZeros=function(number)
{number=String(number);var newNumber;for(var i=number.length;i<this.totalDigits;i++)
{number='0'+number;}
return number;}
this.buildFileName=function(myCurentFrame)
{var currentFrameString=this.leadZeros(myCurentFrame);var fileName=this.dir+this.fileNamePrefix+currentFrameString+'.'+this.fileNameExtension;return fileName;}
this.updateSequence=function()
{var margin;if(cssMap=horizontal){margin=-(currentFrame*containerWidth);wrapper.style.marginLeft=margin;}else{margin=-(currentFrame*containerHeight);wrapper.style.marginTop=margin;}
if(currentFrame<(totalFrames-1)){currentFrame++;}else{if(loop==true){currentFrame=firstFrame;}else{clearInterval(sequenceInterval);}}}
this.start=function()
{sequenceInterval=setInterval(this.updateSequence,interval);}}